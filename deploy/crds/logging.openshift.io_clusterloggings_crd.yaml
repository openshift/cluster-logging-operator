apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: clusterloggings.logging.openshift.io
spec:
  group: logging.openshift.io
  names:
    kind: ClusterLogging
    listKind: ClusterLoggingList
    plural: clusterloggings
    singular: clusterlogging
  scope: Namespaced
  validation:
    openAPIV3Schema:
      description: ClusterLogging is the Schema for the clusterloggings API
      properties:
        apiVersion:
          description: 'APIVersion defines the versioned schema of this representation
            of an object. Servers should convert recognized schemas to the latest
            internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#resources'
          type: string
        kind:
          description: 'Kind is a string value representing the REST resource this
            object represents. Servers may infer this from the endpoint the client
            submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#types-kinds'
          type: string
        metadata:
          type: object
        spec:
          description: ClusterLoggingSpec defines the desired state of ClusterLogging
          properties:
            collection:
              description: This is the struct that will contain information pertinent
                to Log and event collection
              properties:
                logs:
                  properties:
                    fluentd:
                      properties:
                        nodeSelector:
                          additionalProperties:
                            type: string
                          type: object
                        resources:
                          description: ResourceRequirements describes the compute
                            resource requirements.
                          properties:
                            limits:
                              additionalProperties:
                                type: string
                              description: 'Limits describes the maximum amount of
                                compute resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                              type: object
                            requests:
                              additionalProperties:
                                type: string
                              description: 'Requests describes the minimum amount
                                of compute resources required. If Requests is omitted
                                for a container, it defaults to Limits if that is
                                explicitly specified, otherwise to an implementation-defined
                                value. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                              type: object
                          type: object
                        tolerations:
                          items:
                            description: The pod this Toleration is attached to tolerates
                              any taint that matches the triple <key,value,effect>
                              using the matching operator <operator>.
                            properties:
                              effect:
                                description: Effect indicates the taint effect to
                                  match. Empty means match all taint effects. When
                                  specified, allowed values are NoSchedule, PreferNoSchedule
                                  and NoExecute.
                                type: string
                              key:
                                description: Key is the taint key that the toleration
                                  applies to. Empty means match all taint keys. If
                                  the key is empty, operator must be Exists; this
                                  combination means to match all values and all keys.
                                type: string
                              operator:
                                description: Operator represents a key's relationship
                                  to the value. Valid operators are Exists and Equal.
                                  Defaults to Equal. Exists is equivalent to wildcard
                                  for value, so that a pod can tolerate all taints
                                  of a particular category.
                                type: string
                              tolerationSeconds:
                                description: TolerationSeconds represents the period
                                  of time the toleration (which must be of effect
                                  NoExecute, otherwise this field is ignored) tolerates
                                  the taint. By default, it is not set, which means
                                  tolerate the taint forever (do not evict). Zero
                                  and negative values will be treated as 0 (evict
                                  immediately) by the system.
                                format: int64
                                type: integer
                              value:
                                description: Value is the taint value the toleration
                                  matches to. If the operator is Exists, the value
                                  should be empty, otherwise just a regular string.
                                type: string
                            type: object
                          type: array
                      required:
                      - resources
                      type: object
                    type:
                      type: string
                  required:
                  - type
                  type: object
              type: object
            curation:
              description: This is the struct that will contain information pertinent
                to Log curation (Curator)
              properties:
                curator:
                  properties:
                    nodeSelector:
                      additionalProperties:
                        type: string
                      type: object
                    resources:
                      description: ResourceRequirements describes the compute resource
                        requirements.
                      properties:
                        limits:
                          additionalProperties:
                            type: string
                          description: 'Limits describes the maximum amount of compute
                            resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                          type: object
                        requests:
                          additionalProperties:
                            type: string
                          description: 'Requests describes the minimum amount of compute
                            resources required. If Requests is omitted for a container,
                            it defaults to Limits if that is explicitly specified,
                            otherwise to an implementation-defined value. More info:
                            https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                          type: object
                      type: object
                    schedule:
                      type: string
                    tolerations:
                      items:
                        description: The pod this Toleration is attached to tolerates
                          any taint that matches the triple <key,value,effect> using
                          the matching operator <operator>.
                        properties:
                          effect:
                            description: Effect indicates the taint effect to match.
                              Empty means match all taint effects. When specified,
                              allowed values are NoSchedule, PreferNoSchedule and
                              NoExecute.
                            type: string
                          key:
                            description: Key is the taint key that the toleration
                              applies to. Empty means match all taint keys. If the
                              key is empty, operator must be Exists; this combination
                              means to match all values and all keys.
                            type: string
                          operator:
                            description: Operator represents a key's relationship
                              to the value. Valid operators are Exists and Equal.
                              Defaults to Equal. Exists is equivalent to wildcard
                              for value, so that a pod can tolerate all taints of
                              a particular category.
                            type: string
                          tolerationSeconds:
                            description: TolerationSeconds represents the period of
                              time the toleration (which must be of effect NoExecute,
                              otherwise this field is ignored) tolerates the taint.
                              By default, it is not set, which means tolerate the
                              taint forever (do not evict). Zero and negative values
                              will be treated as 0 (evict immediately) by the system.
                            format: int64
                            type: integer
                          value:
                            description: Value is the taint value the toleration matches
                              to. If the operator is Exists, the value should be empty,
                              otherwise just a regular string.
                            type: string
                        type: object
                      type: array
                  required:
                  - resources
                  - schedule
                  type: object
                type:
                  type: string
              required:
              - type
              type: object
            logStore:
              description: This is the struct that will contain information pertinent
                to Log storage (Elasticsearch)
              properties:
                elasticsearch:
                  properties:
                    nodeCount:
                      format: int32
                      type: integer
                    nodeSelector:
                      additionalProperties:
                        type: string
                      type: object
                    redundancyPolicy:
                      description: RedundancyPolicyType controls number of elasticsearch
                        replica shards FullRedundancy - each index is fully replicated
                        on every Data node in the cluster MultipleRedundancy - each
                        index is spread over half of the Data nodes SingleRedundancy
                        - one replica shard ZeroRedundancy - no replica shards
                      type: string
                    resources:
                      description: ResourceRequirements describes the compute resource
                        requirements.
                      properties:
                        limits:
                          additionalProperties:
                            type: string
                          description: 'Limits describes the maximum amount of compute
                            resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                          type: object
                        requests:
                          additionalProperties:
                            type: string
                          description: 'Requests describes the minimum amount of compute
                            resources required. If Requests is omitted for a container,
                            it defaults to Limits if that is explicitly specified,
                            otherwise to an implementation-defined value. More info:
                            https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                          type: object
                      type: object
                    storage:
                      properties:
                        size:
                          type: string
                        storageClassName:
                          type: string
                      type: object
                    tolerations:
                      items:
                        description: The pod this Toleration is attached to tolerates
                          any taint that matches the triple <key,value,effect> using
                          the matching operator <operator>.
                        properties:
                          effect:
                            description: Effect indicates the taint effect to match.
                              Empty means match all taint effects. When specified,
                              allowed values are NoSchedule, PreferNoSchedule and
                              NoExecute.
                            type: string
                          key:
                            description: Key is the taint key that the toleration
                              applies to. Empty means match all taint keys. If the
                              key is empty, operator must be Exists; this combination
                              means to match all values and all keys.
                            type: string
                          operator:
                            description: Operator represents a key's relationship
                              to the value. Valid operators are Exists and Equal.
                              Defaults to Equal. Exists is equivalent to wildcard
                              for value, so that a pod can tolerate all taints of
                              a particular category.
                            type: string
                          tolerationSeconds:
                            description: TolerationSeconds represents the period of
                              time the toleration (which must be of effect NoExecute,
                              otherwise this field is ignored) tolerates the taint.
                              By default, it is not set, which means tolerate the
                              taint forever (do not evict). Zero and negative values
                              will be treated as 0 (evict immediately) by the system.
                            format: int64
                            type: integer
                          value:
                            description: Value is the taint value the toleration matches
                              to. If the operator is Exists, the value should be empty,
                              otherwise just a regular string.
                            type: string
                        type: object
                      type: array
                  required:
                  - nodeCount
                  - redundancyPolicy
                  - resources
                  - storage
                  type: object
                retentionPolicy:
                  properties:
                    logs.app:
                      properties:
                        maxAge:
                          description: TimeUnit is a time unit like h,m,d
                          type: string
                      required:
                      - maxAge
                      type: object
                    logs.audit:
                      properties:
                        maxAge:
                          description: TimeUnit is a time unit like h,m,d
                          type: string
                      required:
                      - maxAge
                      type: object
                    logs.infra:
                      properties:
                        maxAge:
                          description: TimeUnit is a time unit like h,m,d
                          type: string
                      required:
                      - maxAge
                      type: object
                  type: object
                type:
                  type: string
              required:
              - type
              type: object
            managementState:
              description: 'Important: Run "operator-sdk generate k8s" to regenerate
                code after modifying this file Add custom validation using kubebuilder
                tags: https://book.kubebuilder.io/beyond_basics/generating_crd.html'
              type: string
            visualization:
              description: This is the struct that will contain information pertinent
                to Log visualization (Kibana)
              properties:
                kibana:
                  properties:
                    nodeSelector:
                      additionalProperties:
                        type: string
                      type: object
                    proxy:
                      properties:
                        resources:
                          description: ResourceRequirements describes the compute
                            resource requirements.
                          properties:
                            limits:
                              additionalProperties:
                                type: string
                              description: 'Limits describes the maximum amount of
                                compute resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                              type: object
                            requests:
                              additionalProperties:
                                type: string
                              description: 'Requests describes the minimum amount
                                of compute resources required. If Requests is omitted
                                for a container, it defaults to Limits if that is
                                explicitly specified, otherwise to an implementation-defined
                                value. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                              type: object
                          type: object
                      required:
                      - resources
                      type: object
                    replicas:
                      format: int32
                      type: integer
                    resources:
                      description: ResourceRequirements describes the compute resource
                        requirements.
                      properties:
                        limits:
                          additionalProperties:
                            type: string
                          description: 'Limits describes the maximum amount of compute
                            resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                          type: object
                        requests:
                          additionalProperties:
                            type: string
                          description: 'Requests describes the minimum amount of compute
                            resources required. If Requests is omitted for a container,
                            it defaults to Limits if that is explicitly specified,
                            otherwise to an implementation-defined value. More info:
                            https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                          type: object
                      type: object
                    tolerations:
                      items:
                        description: The pod this Toleration is attached to tolerates
                          any taint that matches the triple <key,value,effect> using
                          the matching operator <operator>.
                        properties:
                          effect:
                            description: Effect indicates the taint effect to match.
                              Empty means match all taint effects. When specified,
                              allowed values are NoSchedule, PreferNoSchedule and
                              NoExecute.
                            type: string
                          key:
                            description: Key is the taint key that the toleration
                              applies to. Empty means match all taint keys. If the
                              key is empty, operator must be Exists; this combination
                              means to match all values and all keys.
                            type: string
                          operator:
                            description: Operator represents a key's relationship
                              to the value. Valid operators are Exists and Equal.
                              Defaults to Equal. Exists is equivalent to wildcard
                              for value, so that a pod can tolerate all taints of
                              a particular category.
                            type: string
                          tolerationSeconds:
                            description: TolerationSeconds represents the period of
                              time the toleration (which must be of effect NoExecute,
                              otherwise this field is ignored) tolerates the taint.
                              By default, it is not set, which means tolerate the
                              taint forever (do not evict). Zero and negative values
                              will be treated as 0 (evict immediately) by the system.
                            format: int64
                            type: integer
                          value:
                            description: Value is the taint value the toleration matches
                              to. If the operator is Exists, the value should be empty,
                              otherwise just a regular string.
                            type: string
                        type: object
                      type: array
                  required:
                  - replicas
                  - resources
                  type: object
                type:
                  type: string
              required:
              - type
              type: object
          required:
          - managementState
          type: object
        status:
          description: ClusterLoggingStatus defines the observed state of ClusterLogging
          properties:
            clusterConditions:
              items:
                description: 'ConditionStatus contains details for the current condition
                  of this elasticsearch cluster. Status: the status of the condition.
                  LastTransitionTime: Last time the condition transitioned from one
                  status to another. Reason: Unique, one-word, CamelCase reason for
                  the condition''s last transition. Message: Human-readable message
                  indicating details about last transition.'
                properties:
                  lastTransitionTime:
                    format: date-time
                    type: string
                  message:
                    type: string
                  reason:
                    type: string
                  status:
                    type: string
                  type:
                    description: ClusterConditionType is a valid value for ClusterCondition.Type
                    type: string
                required:
                - lastTransitionTime
                - status
                - type
                type: object
              type: array
            collection:
              properties:
                logs:
                  properties:
                    fluentdStatus:
                      properties:
                        clusterCondition:
                          additionalProperties:
                            description: '`operator-sdk generate crds` does not allow
                              map-of-slice, must use a named type.'
                            items:
                              description: 'ConditionStatus contains details for the
                                current condition of this elasticsearch cluster. Status:
                                the status of the condition. LastTransitionTime: Last
                                time the condition transitioned from one status to
                                another. Reason: Unique, one-word, CamelCase reason
                                for the condition''s last transition. Message: Human-readable
                                message indicating details about last transition.'
                              properties:
                                lastTransitionTime:
                                  format: date-time
                                  type: string
                                message:
                                  type: string
                                reason:
                                  type: string
                                status:
                                  type: string
                                type:
                                  description: ClusterConditionType is a valid value
                                    for ClusterCondition.Type
                                  type: string
                              required:
                              - lastTransitionTime
                              - status
                              - type
                              type: object
                            type: array
                          type: object
                        daemonSet:
                          type: string
                        nodes:
                          additionalProperties:
                            type: string
                          type: object
                        pods:
                          additionalProperties:
                            items:
                              type: string
                            type: array
                          type: object
                      required:
                      - daemonSet
                      - nodes
                      - pods
                      type: object
                  type: object
              type: object
            curation:
              properties:
                curatorStatus:
                  items:
                    properties:
                      clusterCondition:
                        additionalProperties:
                          description: '`operator-sdk generate crds` does not allow
                            map-of-slice, must use a named type.'
                          items:
                            description: 'ConditionStatus contains details for the
                              current condition of this elasticsearch cluster. Status:
                              the status of the condition. LastTransitionTime: Last
                              time the condition transitioned from one status to another.
                              Reason: Unique, one-word, CamelCase reason for the condition''s
                              last transition. Message: Human-readable message indicating
                              details about last transition.'
                            properties:
                              lastTransitionTime:
                                format: date-time
                                type: string
                              message:
                                type: string
                              reason:
                                type: string
                              status:
                                type: string
                              type:
                                description: ClusterConditionType is a valid value
                                  for ClusterCondition.Type
                                type: string
                            required:
                            - lastTransitionTime
                            - status
                            - type
                            type: object
                          type: array
                        type: object
                      cronJobs:
                        type: string
                      schedules:
                        type: string
                      suspended:
                        type: boolean
                    required:
                    - cronJobs
                    - schedules
                    - suspended
                    type: object
                  type: array
              type: object
            logStore:
              properties:
                elasticsearchStatus:
                  items:
                    properties:
                      cluster:
                        properties:
                          activePrimaryShards:
                            format: int32
                            type: integer
                          activeShards:
                            format: int32
                            type: integer
                          initializingShards:
                            format: int32
                            type: integer
                          numDataNodes:
                            format: int32
                            type: integer
                          numNodes:
                            format: int32
                            type: integer
                          pendingTasks:
                            format: int32
                            type: integer
                          relocatingShards:
                            format: int32
                            type: integer
                          status:
                            type: string
                          unassignedShards:
                            format: int32
                            type: integer
                        required:
                        - activePrimaryShards
                        - activeShards
                        - initializingShards
                        - numDataNodes
                        - numNodes
                        - pendingTasks
                        - relocatingShards
                        - status
                        - unassignedShards
                        type: object
                      clusterConditions:
                        items:
                          description: 'ClusterCondition contains details for the
                            current condition of this elasticsearch cluster. Status:
                            the status of the condition. LastTransitionTime: Last
                            time the condition transitioned from one status to another.
                            Reason: Unique, one-word, CamelCase reason for the condition''s
                            last transition. Message: Human-readable message indicating
                            details about last transition.'
                          properties:
                            lastTransitionTime:
                              format: date-time
                              type: string
                            message:
                              type: string
                            reason:
                              type: string
                            status:
                              type: string
                            type:
                              description: ClusterConditionType is a valid value for
                                ClusterCondition.Type
                              type: string
                          required:
                          - lastTransitionTime
                          - status
                          - type
                          type: object
                        type: array
                      clusterHealth:
                        type: string
                      clusterName:
                        type: string
                      deployments:
                        items:
                          type: string
                        type: array
                      nodeConditions:
                        additionalProperties:
                          items:
                            description: 'ClusterCondition contains details for the
                              current condition of this elasticsearch cluster. Status:
                              the status of the condition. LastTransitionTime: Last
                              time the condition transitioned from one status to another.
                              Reason: Unique, one-word, CamelCase reason for the condition''s
                              last transition. Message: Human-readable message indicating
                              details about last transition.'
                            properties:
                              lastTransitionTime:
                                format: date-time
                                type: string
                              message:
                                type: string
                              reason:
                                type: string
                              status:
                                type: string
                              type:
                                description: ClusterConditionType is a valid value
                                  for ClusterCondition.Type
                                type: string
                            required:
                            - lastTransitionTime
                            - status
                            - type
                            type: object
                          type: array
                        type: object
                      nodeCount:
                        format: int32
                        type: integer
                      pods:
                        additionalProperties:
                          additionalProperties:
                            items:
                              type: string
                            type: array
                          type: object
                        type: object
                      replicaSets:
                        items:
                          type: string
                        type: array
                      shardAllocationEnabled:
                        type: string
                      statefulSets:
                        items:
                          type: string
                        type: array
                    required:
                    - cluster
                    - clusterName
                    - nodeCount
                    - pods
                    - shardAllocationEnabled
                    type: object
                  type: array
              type: object
            visualization:
              description: 'Important: Run "operator-sdk generate k8s" to regenerate
                code after modifying this file Add custom validation using kubebuilder
                tags: https://book.kubebuilder.io/beyond_basics/generating_crd.html'
              properties:
                kibanaStatus:
                  items:
                    properties:
                      clusterCondition:
                        additionalProperties:
                          description: '`operator-sdk generate crds` does not allow
                            map-of-slice, must use a named type.'
                          items:
                            description: 'ConditionStatus contains details for the
                              current condition of this elasticsearch cluster. Status:
                              the status of the condition. LastTransitionTime: Last
                              time the condition transitioned from one status to another.
                              Reason: Unique, one-word, CamelCase reason for the condition''s
                              last transition. Message: Human-readable message indicating
                              details about last transition.'
                            properties:
                              lastTransitionTime:
                                format: date-time
                                type: string
                              message:
                                type: string
                              reason:
                                type: string
                              status:
                                type: string
                              type:
                                description: ClusterConditionType is a valid value
                                  for ClusterCondition.Type
                                type: string
                            required:
                            - lastTransitionTime
                            - status
                            - type
                            type: object
                          type: array
                        type: object
                      deployment:
                        type: string
                      pods:
                        additionalProperties:
                          items:
                            type: string
                          type: array
                        type: object
                      replicaSets:
                        items:
                          type: string
                        type: array
                      replicas:
                        format: int32
                        type: integer
                    required:
                    - deployment
                    - pods
                    - replicaSets
                    - replicas
                    type: object
                  type: array
              type: object
          required:
          - collection
          - curation
          - logStore
          - visualization
          type: object
      type: object
  version: v1
  versions:
  - name: v1
    served: true
    storage: true
