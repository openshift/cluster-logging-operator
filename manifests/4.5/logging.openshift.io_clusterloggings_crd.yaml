apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: clusterloggings.logging.openshift.io
spec:
  group: logging.openshift.io
  names:
    kind: ClusterLogging
    listKind: ClusterLoggingList
    plural: clusterloggings
    singular: clusterlogging
  scope: Namespaced
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      properties:
        apiVersion:
          description: 'APIVersion defines the versioned schema of this representation
            of an object. Servers should convert recognized schemas to the latest
            internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#resources'
          type: string
        kind:
          description: 'Kind is a string value representing the REST resource this
            object represents. Servers may infer this from the endpoint the client
            submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#types-kinds'
          type: string
        metadata:
          type: object
        spec:
          description: Specification of the desired behavior of the Logging cluster.
          properties:
            collection:
              description: Specification of the Collection component for the cluster
              properties:
                logs:
                  description: Specification of Log Collection for the cluster
                  properties:
                    fluentd:
                      description: Specification of the Fluentd Log Collection component
                      properties:
                        nodeSelector:
                          additionalProperties:
                            type: string
                          description: Define which Nodes the Pods are scheduled on.
                          type: object
                        resources:
                          description: The resource requirements for Fluentd
                          properties:
                            limits:
                              additionalProperties:
                                type: string
                              description: 'Limits describes the maximum amount of
                                compute resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                              type: object
                            requests:
                              additionalProperties:
                                type: string
                              description: 'Requests describes the minimum amount
                                of compute resources required. If Requests is omitted
                                for a container, it defaults to Limits if that is
                                explicitly specified, otherwise to an implementation-defined
                                value. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                              type: object
                          type: object
                        tolerations:
                          items:
                            description: The pod this Toleration is attached to tolerates
                              any taint that matches the triple <key,value,effect>
                              using the matching operator <operator>.
                            properties:
                              effect:
                                description: Effect indicates the taint effect to
                                  match. Empty means match all taint effects. When
                                  specified, allowed values are NoSchedule, PreferNoSchedule
                                  and NoExecute.
                                type: string
                              key:
                                description: Key is the taint key that the toleration
                                  applies to. Empty means match all taint keys. If
                                  the key is empty, operator must be Exists; this
                                  combination means to match all values and all keys.
                                type: string
                              operator:
                                description: Operator represents a key's relationship
                                  to the value. Valid operators are Exists and Equal.
                                  Defaults to Equal. Exists is equivalent to wildcard
                                  for value, so that a pod can tolerate all taints
                                  of a particular category.
                                type: string
                              tolerationSeconds:
                                description: TolerationSeconds represents the period
                                  of time the toleration (which must be of effect
                                  NoExecute, otherwise this field is ignored) tolerates
                                  the taint. By default, it is not set, which means
                                  tolerate the taint forever (do not evict). Zero
                                  and negative values will be treated as 0 (evict
                                  immediately) by the system.
                                format: int64
                                type: integer
                              value:
                                description: Value is the taint value the toleration
                                  matches to. If the operator is Exists, the value
                                  should be empty, otherwise just a regular string.
                                type: string
                            type: object
                          type: array
                      required:
                      - resources
                      type: object
                    type:
                      description: The type of Log Collection to configure
                      type: string
                  required:
                  - type
                  type: object
              type: object
            curation:
              description: Specification of the Curation component for the cluster
              properties:
                curator:
                  description: The specification of curation to configure
                  properties:
                    nodeSelector:
                      additionalProperties:
                        type: string
                      description: Define which Nodes the Pods are scheduled on.
                      type: object
                    resources:
                      description: The resource requirements for Curator
                      properties:
                        limits:
                          additionalProperties:
                            type: string
                          description: 'Limits describes the maximum amount of compute
                            resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                          type: object
                        requests:
                          additionalProperties:
                            type: string
                          description: 'Requests describes the minimum amount of compute
                            resources required. If Requests is omitted for a container,
                            it defaults to Limits if that is explicitly specified,
                            otherwise to an implementation-defined value. More info:
                            https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                          type: object
                      type: object
                    schedule:
                      description: The cron schedule that the Curator job is run.
                        Defaults to "30 3 * * *"
                      type: string
                    tolerations:
                      items:
                        description: The pod this Toleration is attached to tolerates
                          any taint that matches the triple <key,value,effect> using
                          the matching operator <operator>.
                        properties:
                          effect:
                            description: Effect indicates the taint effect to match.
                              Empty means match all taint effects. When specified,
                              allowed values are NoSchedule, PreferNoSchedule and
                              NoExecute.
                            type: string
                          key:
                            description: Key is the taint key that the toleration
                              applies to. Empty means match all taint keys. If the
                              key is empty, operator must be Exists; this combination
                              means to match all values and all keys.
                            type: string
                          operator:
                            description: Operator represents a key's relationship
                              to the value. Valid operators are Exists and Equal.
                              Defaults to Equal. Exists is equivalent to wildcard
                              for value, so that a pod can tolerate all taints of
                              a particular category.
                            type: string
                          tolerationSeconds:
                            description: TolerationSeconds represents the period of
                              time the toleration (which must be of effect NoExecute,
                              otherwise this field is ignored) tolerates the taint.
                              By default, it is not set, which means tolerate the
                              taint forever (do not evict). Zero and negative values
                              will be treated as 0 (evict immediately) by the system.
                            format: int64
                            type: integer
                          value:
                            description: Value is the taint value the toleration matches
                              to. If the operator is Exists, the value should be empty,
                              otherwise just a regular string.
                            type: string
                        type: object
                      type: array
                  required:
                  - schedule
                  type: object
                type:
                  description: The kind of curation to configure
                  type: string
              required:
              - type
              type: object
            logStore:
              description: Specification of the Log Storage component for the cluster
              properties:
                elasticsearch:
                  description: Specification of the Elasticsearch Log Store component
                  properties:
                    nodeCount:
                      description: Number of nodes to deploy for Elasticsearch
                      format: int32
                      type: integer
                    nodeSelector:
                      additionalProperties:
                        type: string
                      description: Define which Nodes the Pods are scheduled on.
                      type: object
                    redundancyPolicy:
                      description: RedundancyPolicyType controls number of elasticsearch
                        replica shards FullRedundancy - each index is fully replicated
                        on every Data node in the cluster MultipleRedundancy - each
                        index is spread over half of the Data nodes SingleRedundancy
                        - one replica shard ZeroRedundancy - no replica shards
                      type: string
                    resources:
                      description: The resource requirements for Kibana
                      properties:
                        limits:
                          additionalProperties:
                            type: string
                          description: 'Limits describes the maximum amount of compute
                            resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                          type: object
                        requests:
                          additionalProperties:
                            type: string
                          description: 'Requests describes the minimum amount of compute
                            resources required. If Requests is omitted for a container,
                            it defaults to Limits if that is explicitly specified,
                            otherwise to an implementation-defined value. More info:
                            https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                          type: object
                      type: object
                    storage:
                      description: The storage specification for Elasticsearch data
                        nodes
                      properties:
                        size:
                          type: string
                        storageClassName:
                          type: string
                      type: object
                    tolerations:
                      items:
                        description: The pod this Toleration is attached to tolerates
                          any taint that matches the triple <key,value,effect> using
                          the matching operator <operator>.
                        properties:
                          effect:
                            description: Effect indicates the taint effect to match.
                              Empty means match all taint effects. When specified,
                              allowed values are NoSchedule, PreferNoSchedule and
                              NoExecute.
                            type: string
                          key:
                            description: Key is the taint key that the toleration
                              applies to. Empty means match all taint keys. If the
                              key is empty, operator must be Exists; this combination
                              means to match all values and all keys.
                            type: string
                          operator:
                            description: Operator represents a key's relationship
                              to the value. Valid operators are Exists and Equal.
                              Defaults to Equal. Exists is equivalent to wildcard
                              for value, so that a pod can tolerate all taints of
                              a particular category.
                            type: string
                          tolerationSeconds:
                            description: TolerationSeconds represents the period of
                              time the toleration (which must be of effect NoExecute,
                              otherwise this field is ignored) tolerates the taint.
                              By default, it is not set, which means tolerate the
                              taint forever (do not evict). Zero and negative values
                              will be treated as 0 (evict immediately) by the system.
                            format: int64
                            type: integer
                          value:
                            description: Value is the taint value the toleration matches
                              to. If the operator is Exists, the value should be empty,
                              otherwise just a regular string.
                            type: string
                        type: object
                      type: array
                  required:
                  - nodeCount
                  type: object
                retentionPolicy:
                  description: Retention policy defines the maximum age for an index
                    after which it should be deleted
                  properties:
                    application:
                      properties:
                        maxAge:
                          description: Maximum age as integer followed by time unit;
                            one of [yMwdhHms]
                          type: string
                      type: object
                    audit:
                      properties:
                        maxAge:
                          description: Maximum age as integer followed by time unit;
                            one of [yMwdhHms]
                          type: string
                      type: object
                    infra:
                      properties:
                        maxAge:
                          description: Maximum age as integer followed by time unit;
                            one of [yMwdhHms]
                          type: string
                      type: object
                  type: object
                type:
                  description: The type of Log Storage to configure
                  type: string
              required:
              - type
              type: object
            managementState:
              description: Indicator if the resource is 'Managed' or 'Unmanaged' by
                the operator
              enum:
              - Managed
              - Unmanaged
              type: string
            visualization:
              description: Specification of the Visualization component for the cluster
              properties:
                kibana:
                  description: Specification of the Kibana Visualization component
                  properties:
                    nodeSelector:
                      additionalProperties:
                        type: string
                      description: Define which Nodes the Pods are scheduled on.
                      type: object
                    proxy:
                      description: Specification of the Kibana Proxy component
                      properties:
                        resources:
                          description: The resource requirements for Kibana
                          properties:
                            limits:
                              additionalProperties:
                                type: string
                              description: 'Limits describes the maximum amount of
                                compute resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                              type: object
                            requests:
                              additionalProperties:
                                type: string
                              description: 'Requests describes the minimum amount
                                of compute resources required. If Requests is omitted
                                for a container, it defaults to Limits if that is
                                explicitly specified, otherwise to an implementation-defined
                                value. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                              type: object
                          type: object
                      required:
                      - resources
                      type: object
                    replicas:
                      description: Number of instances to deploy for a Kibana deployment
                      format: int32
                      type: integer
                    resources:
                      description: The resource requirements for Kibana
                      properties:
                        limits:
                          additionalProperties:
                            type: string
                          description: 'Limits describes the maximum amount of compute
                            resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                          type: object
                        requests:
                          additionalProperties:
                            type: string
                          description: 'Requests describes the minimum amount of compute
                            resources required. If Requests is omitted for a container,
                            it defaults to Limits if that is explicitly specified,
                            otherwise to an implementation-defined value. More info:
                            https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                          type: object
                      type: object
                    tolerations:
                      items:
                        description: The pod this Toleration is attached to tolerates
                          any taint that matches the triple <key,value,effect> using
                          the matching operator <operator>.
                        properties:
                          effect:
                            description: Effect indicates the taint effect to match.
                              Empty means match all taint effects. When specified,
                              allowed values are NoSchedule, PreferNoSchedule and
                              NoExecute.
                            type: string
                          key:
                            description: Key is the taint key that the toleration
                              applies to. Empty means match all taint keys. If the
                              key is empty, operator must be Exists; this combination
                              means to match all values and all keys.
                            type: string
                          operator:
                            description: Operator represents a key's relationship
                              to the value. Valid operators are Exists and Equal.
                              Defaults to Equal. Exists is equivalent to wildcard
                              for value, so that a pod can tolerate all taints of
                              a particular category.
                            type: string
                          tolerationSeconds:
                            description: TolerationSeconds represents the period of
                              time the toleration (which must be of effect NoExecute,
                              otherwise this field is ignored) tolerates the taint.
                              By default, it is not set, which means tolerate the
                              taint forever (do not evict). Zero and negative values
                              will be treated as 0 (evict immediately) by the system.
                            format: int64
                            type: integer
                          value:
                            description: Value is the taint value the toleration matches
                              to. If the operator is Exists, the value should be empty,
                              otherwise just a regular string.
                            type: string
                        type: object
                      type: array
                  required:
                  - replicas
                  type: object
                type:
                  description: The type of Visualization to configure
                  type: string
              required:
              - type
              type: object
          type: object
        status:
          description: Observed state of ClusterLogging
          properties:
            clusterConditions:
              items:
                properties:
                  lastTransitionTime:
                    description: Last time the condition transitioned from one status
                      to another.
                    format: date-time
                    type: string
                  message:
                    description: Human-readable message indicating details about last
                      transition.
                    type: string
                  reason:
                    description: Unique, one-word, CamelCase reason for the condition's
                      last transition.
                    type: string
                  status:
                    type: string
                  type:
                    enum:
                    - IncorrectCRName
                    - ContainerWaiting
                    - ContainerTerminated
                    - Unschedulable
                    - NodeStorage
                    type: string
                required:
                - lastTransitionTime
                - status
                - type
                type: object
              type: array
            collection:
              properties:
                logs:
                  properties:
                    fluentdStatus:
                      properties:
                        clusterCondition:
                          additionalProperties:
                            items:
                              properties:
                                lastTransitionTime:
                                  description: Last time the condition transitioned
                                    from one status to another.
                                  format: date-time
                                  type: string
                                message:
                                  description: Human-readable message indicating details
                                    about last transition.
                                  type: string
                                reason:
                                  description: Unique, one-word, CamelCase reason
                                    for the condition's last transition.
                                  type: string
                                status:
                                  type: string
                                type:
                                  enum:
                                  - IncorrectCRName
                                  - ContainerWaiting
                                  - ContainerTerminated
                                  - Unschedulable
                                  - NodeStorage
                                  type: string
                              required:
                              - lastTransitionTime
                              - status
                              - type
                              type: object
                            type: array
                          type: object
                        daemonSet:
                          type: string
                        nodes:
                          additionalProperties:
                            type: string
                          type: object
                        pods:
                          additionalProperties:
                            items:
                              type: string
                            type: array
                          type: object
                      required:
                      - daemonSet
                      - nodes
                      - pods
                      type: object
                  type: object
              type: object
            curation:
              properties:
                curatorStatus:
                  items:
                    properties:
                      clusterCondition:
                        additionalProperties:
                          items:
                            properties:
                              lastTransitionTime:
                                description: Last time the condition transitioned
                                  from one status to another.
                                format: date-time
                                type: string
                              message:
                                description: Human-readable message indicating details
                                  about last transition.
                                type: string
                              reason:
                                description: Unique, one-word, CamelCase reason for
                                  the condition's last transition.
                                type: string
                              status:
                                type: string
                              type:
                                enum:
                                - IncorrectCRName
                                - ContainerWaiting
                                - ContainerTerminated
                                - Unschedulable
                                - NodeStorage
                                type: string
                            required:
                            - lastTransitionTime
                            - status
                            - type
                            type: object
                          type: array
                        type: object
                      cronJobs:
                        type: string
                      schedules:
                        type: string
                      suspended:
                        type: boolean
                    required:
                    - cronJobs
                    - schedules
                    - suspended
                    type: object
                  type: array
              type: object
            logStore:
              properties:
                elasticsearchStatus:
                  items:
                    properties:
                      cluster:
                        properties:
                          activePrimaryShards:
                            format: int32
                            type: integer
                          activeShards:
                            format: int32
                            type: integer
                          initializingShards:
                            format: int32
                            type: integer
                          numDataNodes:
                            format: int32
                            type: integer
                          numNodes:
                            format: int32
                            type: integer
                          pendingTasks:
                            format: int32
                            type: integer
                          relocatingShards:
                            format: int32
                            type: integer
                          status:
                            type: string
                          unassignedShards:
                            format: int32
                            type: integer
                        required:
                        - activePrimaryShards
                        - activeShards
                        - initializingShards
                        - numDataNodes
                        - numNodes
                        - pendingTasks
                        - relocatingShards
                        - status
                        - unassignedShards
                        type: object
                      clusterConditions:
                        items:
                          description: 'ClusterCondition contains details for the
                            current condition of this elasticsearch cluster. Status:
                            the status of the condition. LastTransitionTime: Last
                            time the condition transitioned from one status to another.
                            Reason: Unique, one-word, CamelCase reason for the condition''s
                            last transition. Message: Human-readable message indicating
                            details about last transition.'
                          properties:
                            lastTransitionTime:
                              format: date-time
                              type: string
                            message:
                              type: string
                            reason:
                              type: string
                            status:
                              type: string
                            type:
                              description: ClusterConditionType is a valid value for
                                ClusterCondition.Type
                              type: string
                          required:
                          - lastTransitionTime
                          - status
                          - type
                          type: object
                        type: array
                      clusterHealth:
                        type: string
                      clusterName:
                        type: string
                      deployments:
                        items:
                          type: string
                        type: array
                      nodeConditions:
                        additionalProperties:
                          items:
                            description: 'ClusterCondition contains details for the
                              current condition of this elasticsearch cluster. Status:
                              the status of the condition. LastTransitionTime: Last
                              time the condition transitioned from one status to another.
                              Reason: Unique, one-word, CamelCase reason for the condition''s
                              last transition. Message: Human-readable message indicating
                              details about last transition.'
                            properties:
                              lastTransitionTime:
                                format: date-time
                                type: string
                              message:
                                type: string
                              reason:
                                type: string
                              status:
                                type: string
                              type:
                                description: ClusterConditionType is a valid value
                                  for ClusterCondition.Type
                                type: string
                            required:
                            - lastTransitionTime
                            - status
                            - type
                            type: object
                          type: array
                        type: object
                      nodeCount:
                        format: int32
                        type: integer
                      pods:
                        additionalProperties:
                          additionalProperties:
                            items:
                              type: string
                            type: array
                          type: object
                        type: object
                      replicaSets:
                        items:
                          type: string
                        type: array
                      shardAllocationEnabled:
                        type: string
                      statefulSets:
                        items:
                          type: string
                        type: array
                    required:
                    - cluster
                    - clusterName
                    - nodeCount
                    - pods
                    - shardAllocationEnabled
                    type: object
                  type: array
              type: object
            visualization:
              properties:
                kibanaStatus:
                  items:
                    description: KibanaStatus defines the observed state of Kibana
                    properties:
                      clusterCondition:
                        additionalProperties:
                          items:
                            description: 'ClusterCondition contains details for the
                              current condition of this elasticsearch cluster. Status:
                              the status of the condition. LastTransitionTime: Last
                              time the condition transitioned from one status to another.
                              Reason: Unique, one-word, CamelCase reason for the condition''s
                              last transition. Message: Human-readable message indicating
                              details about last transition.'
                            properties:
                              lastTransitionTime:
                                format: date-time
                                type: string
                              message:
                                type: string
                              reason:
                                type: string
                              status:
                                type: string
                              type:
                                description: ClusterConditionType is a valid value
                                  for ClusterCondition.Type
                                type: string
                            required:
                            - lastTransitionTime
                            - status
                            - type
                            type: object
                          type: array
                        type: object
                      deployment:
                        type: string
                      pods:
                        additionalProperties:
                          items:
                            type: string
                          type: array
                        type: object
                      replicaSets:
                        items:
                          type: string
                        type: array
                      replicas:
                        format: int32
                        type: integer
                    required:
                    - deployment
                    - pods
                    - replicaSets
                    - replicas
                    type: object
                  type: array
              type: object
          required:
          - collection
          - curation
          - logStore
          - visualization
          type: object
      type: object
  version: v1
  versions:
  - name: v1
    served: true
    storage: true
